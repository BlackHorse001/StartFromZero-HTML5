<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Session Storage Test</title>
</head>
<body>
	<h2>Session Storage</h2>
	<label>用户名：</label>
	<input type="text" name="username" id="username" />
	<input type="button" value="save" onclick="_save()" />
	<input type="button" value="load" onclick="_load()" />
	<input type="button" value="delete" onclick="_delete()" />
	<input type="button" value="remove" onclick="_remove()" />
	
	<script type="text/javascript">
		var storage = window.sessionStorage;
		if(!storage){
			alert("Your browser doesn't support session storage");
		}
		var userInputObj = document.getElementById("username");
		
		function _save(){
			if(storage && userInputObj){
				var username = userInputObj.value;
				storage.setItem("username", username);
			}
		}
		function _load(){
			if(storage && userInputObj){
				userInputObj.value = storage.getItem("username");
			}
		}
		function _delete(){
			if(storage){
				console.log(storage.removeItem("username"));
			}
		}
		function _remove(){
			if(storage){
				storage.clear();
			}
		}
		window.onstorage = function(event){
			console.log("storage 发生变化");
		}
		//window.open("test.html");
	</script>
</body>
</html>